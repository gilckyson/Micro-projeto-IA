{% extends "base.html" %}

{% block title %}Hist칩rico de Desculpas{% endblock %}

{% block content %}
    <h2 class="text-3xl font-bold mb-8 text-center text-purple-400">游닆 Hist칩rico de Desculpas C칩smicas ({{ historico|length }} salvas)</h2>
    
    {% if historico %}
        <div class="space-y-6">
            {% for desculpa in historico | reverse %}
                <div class="bg-gray-800 p-6 rounded-xl shadow-xl border border-gray-700 hover:border-pink-500 transition duration-300">
                    
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="text-xl font-semibold text-pink-400">Motivo: {{ desculpa.motivo }}</h3>
                        <span class="text-sm font-extrabold text-purple-400 p-1 rounded bg-gray-700">
                            {{ desculpa.calcular_pontuacao_drama() }}
                        </span>
                    </div>

                    <p class="text-lg text-gray-300 whitespace-pre-wrap leading-snug border-l-2 border-gray-600 pl-3 py-1">
                        {{ desculpa.conteudo | truncate(150, true) }}
                    </p>
                    
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="text-center p-10 bg-gray-800 rounded-lg shadow-inner">
            <p class="text-xl text-gray-500">Ainda n칚o h치 desculpas salvas. Gere a primeira!</p>
        </div>
    {% endif %}

    <div class="text-center mt-10">
        <a href="/" class="text-lg text-pink-400 hover:text-pink-300 transition">
            拘勇 Voltar para a Gera칞칚o
        </a>
    </div>
{% endblock %}